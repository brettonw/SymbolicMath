<!doctype html>
<html>
    <head>
        <title>Symbolic Math - Integration</title>
        <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=MML_HTMLorMML"></script>
        <script src="http://d3js.org/d3.v3.min.js"></script>
        <script src="SymbolicMath-debug.js"></script>
        <script type="text/javascript">
        function initPage() {

            var display = new String();
            display = "<table cellspacing='5'>";
            display += "<tr><th>Equations</th></tr>\n";

            // create the sampler I'll use to build graphs
            var sampler = new Sampler();
            sampler.domain = { name: "t", from: 0.0, to: 2.0 };
            sampler.values["a"] = SM.namedConstants.g;
            sampler.values["v"] = SM.namedConstants.g;

            // want to plot time vs. altitude with an object given an initial upward
            // velocity, and acted on by gravity (G=9.8M/s^2)
            // H = V t + 1/2 A t^2
            var v = SM.Expr("v");
            var a = SM.Expr("a");
            var t = SM.Expr("t");
            var y_of_t = SM.Add(SM.Multiply(v, t), SM.Multiply(-0.5, a, SM.Power(t, 2.0)).Simplify());
            var dValues = {};
            dValues[sampler.domain.name] = sampler.domain.from;
            var d1 = y_of_t.D(dValues);
            display += "<tr><td>" + y_of_t.toString() + "</td></tr>\n";
            display += "<tr><td>" + d1.toString() + "</td></tr>\n";
            display += "</table></br>\n";
            document.getElementById('display').innerHTML = display;

            {
                var graphData = sampler.Evaluate(y_of_t);

                var plot = new Plot();
                plot.title = "Y at Time";
                plot.yAxisTitle = "Y (m)";
                plot.xAxisTitle = "Time (s)";
                plot.FromGraphData(graphData);
            }

            document.getElementById('display').innerHTML += "<br>";


            // want to plot time vs. altitude with an object given an initial upward
            // velocity, and acted on by gravity (G=9.8M/s^2)
            // H = V t + 1/2 A t^2
            {
                var graphData = sampler.Evaluate(d1);

                var plot = new Plot();
                plot.title = "Velocity at Time";
                plot.yAxisTitle = "Velocity (m/s)";
                plot.xAxisTitle = "Time (s)";
                plot.FromGraphData(graphData);
            }

        }
        </script>
    </head>
    <body onload="initPage();">
        <div id="display"></div>
    </body>
</html>
